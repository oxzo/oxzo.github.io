---
import BaseHead from "../components/BaseHead.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import { SITE_TITLE, SITE_DESCRIPTION } from "../consts";
import { getCollection } from "astro:content";
import ThoughtCard from "../components/ThoughtCard.astro";

const thoughts = (await getCollection("thoughts")).sort(
	(a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf(),
);
---

<!doctype html>
<html lang="en">
	<head>
		<BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
	</head>
	<body
		class="bg-[var(--color-background)] text-[var(--color-text-main)] antialiased selection:bg-[var(--color-primary)] selection:text-black"
	>
		<Header />
		<main
			class="max-w-3xl mx-auto px-4 py-8 relative md:ml-64 transition-all duration-300"
		>
			<section class="space-y-6 mt-16 md:mt-0">
				{thoughts.map((thought) => <ThoughtCard thought={thought} />)}
			</section>
		</main>
		<Footer />
	</body>
</html>
